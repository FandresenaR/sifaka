(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,83086,e=>{"use strict";let t=(0,e.i(75254).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);e.s(["Sparkles",()=>t],83086)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},12664,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(98919),r=e.i(83086),l=e.i(56909),d=e.i(43531);let i=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var n=e.i(26732);function c(){let{data:e}=(0,n.useSession)(),a=e?.user?.role==="SUPER_ADMIN";return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Sécurité & IA"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Configuration de la sécurité et des services IA"})]}),!a&&(0,t.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg flex items-center gap-3 text-yellow-800 dark:text-yellow-200",children:[(0,t.jsx)(i,{className:"w-5 h-5"}),(0,t.jsx)("p",{children:"Seul le Super Admin peut modifier ces paramètres."})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(s.Shield,{className:"w-5 h-5 text-red-600 dark:text-red-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Paramètres de Sécurité"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Rate limiting, 2FA et protection"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(o,{title:"Authentification 2FA",description:"Activer la double authentification",enabled:!1,disabled:!a}),(0,t.jsx)(o,{title:"Rate Limiting",description:"Protection contre les abus",enabled:!0,disabled:!a}),(0,t.jsx)(o,{title:"Cloudflare WAF",description:"Web Application Firewall",enabled:!1,disabled:!a}),(0,t.jsx)(o,{title:"IP Whitelisting",description:"Liste blanche d'IPs",enabled:!1,disabled:!a})]})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 dark:bg-purple-900/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(r.Sparkles,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Configuration IA"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"OpenAI, Claude et modèles personnalisés"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(x,{provider:"openai",name:"OpenAI",description:"GPT-4, DALL-E, Embeddings",defaultModel:"gpt-4-turbo-preview",disabled:!a}),(0,t.jsx)(x,{provider:"claude",name:"Anthropic Claude",description:"Claude 3 Opus, Sonnet, Haiku",defaultModel:"claude-3-opus-20240229",disabled:!a}),(0,t.jsx)(x,{provider:"openrouter",name:"OpenRouter",description:"Accès unifié aux modèles (Mistral, Llama, etc.)",defaultModel:"mistralai/mixtral-8x7b-instruct",disabled:!a})]})]})]})}function o({title:e,description:a,enabled:s,disabled:r}){return(0,t.jsxs)("div",{className:`flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg ${r?"opacity-60":""}`,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:e}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a})]}),(0,t.jsx)("button",{disabled:r,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s?"bg-blue-600":"bg-gray-300 dark:bg-gray-600"}`,children:(0,t.jsx)("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]})}function x({provider:e,name:s,description:r,defaultModel:i,disabled:n}){let[c,o]=(0,a.useState)(""),[x,u]=(0,a.useState)(i),[g,m]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),b=async()=>{m(!0);try{(await fetch("/api/ai",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:e,apiKey:c,model:x,enabled:!0})})).ok&&(p(!0),setTimeout(()=>p(!1),2e3))}catch(e){console.error("Error saving config:",e)}finally{m(!1)}};return(0,t.jsxs)("div",{className:`p-4 border border-gray-200 dark:border-gray-700 rounded-lg ${n?"opacity-60 pointer-events-none":""}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:s}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:r})]}),h?(0,t.jsxs)("span",{className:"flex items-center gap-1 text-sm text-green-600 dark:text-green-400 font-medium",children:[(0,t.jsx)(d.Check,{className:"w-4 h-4"}),"Enregistré"]}):(0,t.jsxs)("button",{onClick:b,disabled:g||!c,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(l.Save,{className:"w-4 h-4"}),g?"...":"Sauvegarder"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"API Key"}),(0,t.jsx)("input",{type:"password",value:c,onChange:e=>o(e.target.value),placeholder:"sk-...",className:"w-full px-3 py-2 text-sm border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Modèle par défaut"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>u(e.target.value),placeholder:i,className:"w-full px-3 py-2 text-sm border rounded-md dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]})}e.s(["default",()=>c],12664)}]);